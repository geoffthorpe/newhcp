{
    "vars": {
        "webapi_app": "/hcp/backend/attestsvc.py"
    },

    "xtra_global": {
        "priority": 20,
        "exec": [ "bash", "-c",
            "mkdir -p /backend/db && chown -R www-data /backend/db && touch /backend/.db-created" ],
        "block": "/backend/.db-created",
        "will_exit": true
    },
    "xtra_local": {
        "priority": 40,
        "exec": [ "bash", "-c",
            "cp /key_attestnoncer /tmp/www-data-noncekey && cp /signer_asset /tmp/www-data-signer && chown www-data /tmp/www-data-* && touch /tmp/www-data.copied"],
        "block": "/tmp/www-data.copied",
        "will_exit": true
    },

    "backend": {
        "_": "The hooks in hcp/backend/attestsvc will consume these.",
        "cacert": "/ca_default",
        "clientcert": "/cred_kdcclient"
    }
}

{
    "vars": {
        "id": "primary.kdc",
        "services": [ "attester", "kdcsvc", "webapi", "kdcsvc_TGS",
                        "kdcsvc_iprop_primary" ],
        "default_targets": [ "start-attester", "setup-global", "setup-local",
                            "start-services" ],
        "client_global": false,
	"kdcsvc_policyurl": "http://policy.primary.kdc.hcphacking.xyz:9180",
        "kdcsvc_secondaries": [ "secondary.kdc.hcphacking.xyz" ],
	"kdcsvc_TGS_port": "3089",
        "policy_url": "http://policy.primary.kdc.hcphacking.xyz:9180",
        "policysvc_port": 9180,
        "policysvc_config": "/usecase/kdc_primary.policy.json",
        "webapi_app": "/hcp/kdcsvc/mgmt_api.py",
        "webapi_fqdn": "primary.kdc.hcphacking.xyz",
        "webapi_port": 9090,
        "webapi_setup": { "touchfile": "/etc/hcp/primary.kdc/touch-kdcsvc-local-setup" }
    },
    "args_for": "kdcsvc_TGS",

    "scope": [
        { "load": ".defaults", "path": "/usecase/proto_defaults.json" },
        { "vars": ".defaults" },
        { "import": ".", "source": "." },
        { "vars": ".vars" },
        { "loadunion": ".", "path": "/usecase/proto_root.json" },
        { "load": ".attester", "path": "/usecase/proto_attester.json" },
        { "load": ".client", "path": "/usecase/proto_client.json" },
        { "load": ".kdcsvc", "path": "/usecase/proto_kdcsvc.json" },
        { "load": ".kdcsvc_TGS", "path": "/usecase/proto_kdcsvc_TGS.json" },
        { "load": ".kdcsvc_iprop_primary", "path": "/usecase/proto_kdcsvc_iprop_primary.json" },
        { "load": ".policysvc", "path": "/usecase/proto_policysvc_sidecar.json" },
        { "load": ".webapi", "path": "/usecase/proto_webapi.json" },
        { "delete": ".webapi.https" },
        { "load": ".tpm", "path": "/usecase/proto_tpm_sidecar.json" }
    ],

    "env": {
        "set": { "KRB5_CONFIG": "/etc/hcp/primary.kdc/krb5.conf" }
    }
}

{
    "vars": {
        "id": "kdc_primary",
        "services": [ "kdcsvc_iprop_primary" ],
        "kdcsvc_secondaries": [ "kdc_secondary.hcphacking.xyz" ],
	"kdcsvc_TGS_port": "3089",
	"kdcsvc_pkinit_identity": "/assets/pkinit-kdc-HCPHACKING.XYZ.pem",
        "webapi_app": "/hcp/kdcsvc/mgmt_api.py",
        "webapi_fqdn": "kdc_primary.hcphacking.xyz",
        "webapi_port": 443,
        "webapi_https_certificate": "/assets/https-server-kdc_primary.hcphacking.xyz.pem",
        "webapi_https_authentication": "clientcert",
        "webapi_setup": { "touchfile": "/tmp/touch-kdcsvc-local-setup-HCPHACKING.XYZ" }
    },
    "args_for": "kdcsvc_TGS",

    "mutate": [
        { "method": "load", "jspath": "/usecase/proto/root.json" },
        { "method": "union" },
        { "method": "load", "register": "a", "jspath": "/usecase/proto/kdcsvc.json" },
        { "method": "union", "srcregister": "a" },
        { "method": "load", "register": "d", "jspath": "/usecase/proto/defaults.json" },
        { "method": "union", "regpath": "vars", "srcregister": "d", "underlay": true },
        { "method": "load", "regpath": "attester", "jspath": "/usecase/proto/attester.json" },
        { "method": "load", "regpath": "kdcsvc_TGS", "jspath": "/usecase/proto/kdcsvc_TGS.json" },
        { "method": "load", "regpath": "kdcsvc_iprop_primary", "jspath": "/usecase/proto/kdcsvc_iprop_primary.json" },
        { "method": "load", "regpath": "webapi", "jspath": "/usecase/proto/webapi.json" },
        { "method": "load", "regpath": "tpm", "jspath": "/usecase/proto/tpm_sidecar.json" },
        { "method": "load", "register": "e", "jspath": "/usecase/proto/env_tpm2tools.json" },
	{ "method": "union", "srcregister": "e", "regpath": "env" },
        { "method": "load", "register": "e", "jspath": "/usecase/proto/env_krb5.json" },
	{ "method": "union", "srcregister": "e", "regpath": "env" },
        { "method": "expand" }
    ]
}
